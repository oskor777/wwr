<!doctype html>
<html lang="uz">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Premium Car Store</title>

  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    /* ===== GLOBAL ===== */
    :root {
      --bg-a: #a8c0ff;
      --bg-b: #3f2b96;
      --glass: rgba(255, 255, 255, 0.85);
      --accent-1: #6a5af9;
      --accent-2: #8368ff;
      --muted: #6b7280;
      --card-w: 280px;
    }

    * {
      box-sizing: border-box
    }

    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--bg-a), var(--bg-b));
      min-height: 100vh;
      color: #111827;
      padding: 32px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 28px;
      align-items: start;
    }

    /* ===== LEFT COLUMN: FORMS ===== */
    .panel {
      background: var(--glass);
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 12px 30px rgba(2, 6, 23, 0.18);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .panel h2 {
      margin: 0 0 8px 0;
      font-size: 18px;
      font-weight: 600;
      color: #0f172a;
    }

    .panel p.sub {
      margin: 0 0 14px 0;
      color: var(--muted);
      font-size: 13px;
    }

    .field {
      margin-top: 12px;
    }

    input[type="text"],
    input[type="number"],
    select {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid rgba(15, 23, 42, 0.08);
      background: #fbfdff;
      font-size: 14px;
      transition: all .18s ease;
      outline: none;
    }

    input:focus,
    select:focus {
      box-shadow: 0 8px 20px rgba(74, 58, 255, 0.12);
      border-color: var(--accent-1);
    }

    .row {
      display: flex;
      gap: 10px;
    }

    .row .field {
      flex: 1
    }

    .btn {
      display: inline-block;
      width: 100%;
      margin-top: 14px;
      padding: 12px 14px;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      color: white;
      font-weight: 600;
      letter-spacing: .2px;
      background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
      box-shadow: 0 10px 24px rgba(77, 92, 255, 0.18);
      transition: transform .18s ease, box-shadow .18s ease;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 18px 34px rgba(77, 92, 255, 0.22);
    }

    /* ===== RIGHT COLUMN: HEADER + PRODUCTS ===== */
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .search-wrap {
      display: flex;
      gap: 12px;
      align-items: center;
      width: 100%;
    }

    .search-wrap input {
      padding: 12px 14px;
      border-radius: 12px;
      border: none;
      min-width: 220px;
      box-shadow: 0 6px 18px rgba(2, 6, 23, 0.12);
    }

    .filters {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .pill {
      background: rgba(255, 255, 255, 0.12);
      color: white;
      padding: 8px 12px;
      border-radius: 999px;
      font-size: 13px;
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .products {
      display: flex;
      flex-wrap: wrap;
      gap: 22px;
      margin-top: 6px;
    }

    /* ===== CARD ===== */
    .card {
      width: var(--card-w);
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(250, 250, 255, 0.98));
      border-radius: 16px;
      padding: 14px;
      box-shadow: 0 14px 34px rgba(2, 6, 23, 0.12);
      transition: transform .22s ease, box-shadow .22s ease, border-color .18s ease;
      border: 3px solid transparent;
      overflow: hidden;
    }

    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 22px 46px rgba(2, 6, 23, 0.18);
    }

    .card .media {
      width: 100%;
      height: 160px;
      border-radius: 12px;
      overflow: hidden;
      background: linear-gradient(135deg, #eef2ff, #f8fafc);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      gap: 10px;
    }

    .meta .title {
      font-weight: 700;
      font-size: 15px;
      color: #0b1220;
    }

    .meta .price {
      font-weight: 700;
      font-size: 15px;
      color: #0b1220;
    }

    .attrs {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      gap: 10px;
    }

    .chip {
      font-size: 13px;
      padding: 8px 10px;
      border-radius: 10px;
      background: linear-gradient(180deg, #f3f6ff, #eef3ff);
      border: 1px solid rgba(12, 45, 90, 0.05);
      display: inline-flex;
      gap: 8px;
      align-items: center;
    }

    .color-swatch {
      width: 34px;
      height: 20px;
      border-radius: 6px;
      border: 1px solid rgba(0, 0, 0, 0.12);
    }

    .delete-btn {
      margin-top: 12px;
      width: 100%;
      padding: 10px 12px;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      color: white;
      background: linear-gradient(135deg, #ff6b6b, #ff4040);
      font-weight: 600;
      box-shadow: 0 10px 22px rgba(255, 64, 64, 0.14);
      transition: transform .14s ease;
    }

    .delete-btn:active {
      transform: translateY(1px);
    }

    /* expensive border style */
    .card.expensive {
      border-color: #ff4d4d;
      box-shadow: 0 22px 46px rgba(255, 77, 77, 0.12);
    }

    /* responsive */
    @media (max-width:980px) {
      .container {
        grid-template-columns: 1fr;
        padding-bottom: 40px;
      }

      .products {
        justify-content: center
      }
    }
  </style>
</head>

<body>

  <div class="container">

    <!-- LEFT: form + filter -->
    <div>
      <div class="panel">
        <h2>Mahsulot qo'shish</h2>
        <p class="sub">Yangi mashinani bu yerga qo'shing — rasm URL, narx, rang va yil kiriting.</p>

        <div class="field">
          <input id="name" type="text" placeholder="Mahsulot nomi (masalan: Nexia)" />
        </div>

        <div class="row">
          <div class="field">
            <input id="price" type="number" placeholder="Narxi (AQSh $)" />
          </div>
          <div class="field">
            <input id="year" type="number" placeholder="Yil (2005)" />
          </div>
        </div>

        <div class="field">
          <input id="color" type="text" placeholder="Rangi (misol: red yoki #ff0000)" />
        </div>

        <div class="field">
          <input id="image" type="text" placeholder="Rasm URL (https://...)" />
        </div>

        <button class="btn" onclick="addProduct()">Mahsulot qo'shish</button>
      </div>

      <div class="panel" style="margin-top:18px;">
        <h2>Filterlar</h2>
        <p class="sub">Qidiruv va yil bo‘yicha filtr.</p>

        <div class="field">
          <input id="search" type="text" placeholder="Nomi bo'yicha qidirish..." oninput="renderProducts()" />
        </div>

        <div class="field">
          <select id="yearFilter" onchange="renderProducts()">
            <option value="all">Hammasi</option>
            <option value="1980-1999">1980 — 1999</option>
            <option value="2000-2009">2000 — 2009</option>
            <option value="2010-2019">2010 — 2019</option>
            <option value="2020-2035">2020 — 2035</option>
          </select>
        </div>
      </div>
    </div>

    <!-- RIGHT: products -->
    <div>
      <div class="topbar">
        <div class="search-wrap">
          <input id="searchTop" type="text" placeholder="Tez qidiruv..." oninput="syncSearch(this)" />
        </div>
        <div class="filters">
          <div class="pill">Premium dizayn</div>
        </div>
      </div>

      <div id="productList" class="products"></div>
    </div>

  </div>

  <script>
    // sample data
    let products = [
      { name: "Nexia", price: 10000, color: "#111827", year: 2005, image: "https://storage.kun.uz/source/3/TXwWDvUNSOIvO9XsmoiBshm92gOURii6.jpg" },
      { name: "Tiko", price: 5000, color: "red", year: 1995, image: "https://uz.all.biz/img/uz/catalog/27295.jpeg" },
      { name: "Malibu", price: 20000, color: "black", year: 2021, image: "https://chevrolet.uz/assets/images/malibu-xl/colors/new/G59.png" },
      { name: "Jiguli", price: 1000, color: "color", year: 1991, image: "https://autohs.ru/wp-content/uploads/2024/03/vaz-2105.jpg" }
    ];

    // sync search inputs
    function syncSearch(el) {
      document.getElementById('search').value = el.value;
      renderProducts();
    }

    function addProduct() {
      const name = document.getElementById("name").value.trim();
      const price = Number(document.getElementById("price").value);
      const color = document.getElementById("color").value.trim() || "#cccccc";
      const year = Number(document.getElementById("year").value);
      const image = document.getElementById("image").value.trim();

      if (!name || !price || !year || !image) {
        alert("Iltimos: nom, narx, yil va rasm URL kiritilsin.");
        return;
      }

      products.unshift({ name, price, color, year, image }); // unshift — yangisi tepaga keladi
      // clear inputs
      document.getElementById("name").value = "";
      document.getElementById("price").value = "";
      document.getElementById("color").value = "";
      document.getElementById("year").value = "";
      document.getElementById("image").value = "";

      renderProducts();
    }

    function deleteProduct(idx) {
      if (!confirm("Haqiqatan ham o'chirmoqchimisiz?")) return;
      products.splice(idx, 1);
      renderProducts();
    }

    function renderProducts() {
      const searchValue = document.getElementById("search").value.toLowerCase();
      const yearFilter = document.getElementById("yearFilter").value;
      const box = document.getElementById("productList");
      box.innerHTML = "";

      let filtered = products.filter(p => p.name.toLowerCase().includes(searchValue));

      if (yearFilter !== "all") {
        const [min, max] = yearFilter.split("-").map(Number);
        filtered = filtered.filter(p => p.year >= min && p.year <= max);
      }

      filtered.forEach((p, i) => {
        // expensive class when price > 10000
        const isExpensive = p.price > 10000;
        const card = document.createElement('div');
        card.className = 'card' + (isExpensive ? ' expensive' : '');

        card.innerHTML = `
          <div class="media">
            <img src="${escapeHtml(p.image)}" alt="${escapeHtml(p.name)}" onerror="this.onerror=null; this.src='https://via.placeholder.com/400x300?text=No+Image';" />
          </div>

          <div class="meta">
            <div class="title">${escapeHtml(p.name)}</div>
            <div class="price">$${Number(p.price).toLocaleString()}</div>
          </div>

          <div class="attrs">
            <div class="chip">Yil: ${escapeHtml(String(p.year))}</div>
            <div class="chip" style="display:flex;gap:8px;align-items:center;">
              <div class="color-swatch" style="background:${escapeHtml(p.color)}"></div>
              <div style="font-size:13px;color:#374151">${escapeHtml(p.color)}</div>
            </div>
          </div>

          <button class="delete-btn" onclick="deleteProduct(${i})">O'chirish</button>
        `;

        box.appendChild(card);
      });

      // if no products
      if (filtered.length === 0) {
        box.innerHTML = `<div style="color:#e6eefc; padding:24px; font-weight:600">Mahsulot topilmadi.</div>`;
      }
    }

    // small helper to avoid XSS from inserted strings (basic)
    function escapeHtml(str) {
      return String(str)
        .replaceAll('&', '&amp;')
        .replaceAll('<', '&lt;')
        .replaceAll('>', '&gt;')
        .replaceAll('"', '&quot;')
        .replaceAll("'", "&#39;");
    }

    // initial render
    renderProducts();
  </script>
</body>

</html>